<UserControl x:Class="RemoteDesktop.Views.UserControls.SearchBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

             xmlns:behavior="clr-namespace:RemoteDesktop.Common.Behaviors">

   <Border BorderThickness="1">
      <Border.Style>
         <Style TargetType="Border">
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
            <Setter Property="Background" Value="Transparent" />

            <Style.Triggers>
               <Trigger Property="IsMouseOver" Value="True">
                  <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
               </Trigger>
               <DataTrigger Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource Self}}" Value="True">
                  <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
               </DataTrigger>
            </Style.Triggers>
         </Style>
      </Border.Style>

      <Grid Margin="3">
         <TextBox behavior:TextBoxHelper.Placeholder="Search..."
                  Padding="4,2" BorderThickness="0"
                  Background="Transparent"
                  CaretBrush="{DynamicResource CaretBrush}"
                  Foreground="{DynamicResource TextBrush}"
                  Style="{x:Null}"
                  Text="{Binding SearchText, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged}" />

         <TextBlock Text="&#xE721;" FontFamily="{StaticResource FontIcon}" FontSize="14" Foreground="{DynamicResource TextDisabledBrush}" VerticalAlignment="Center" Margin="0,0,2,0" HorizontalAlignment="Right" />
      </Grid>
   </Border>
</UserControl>