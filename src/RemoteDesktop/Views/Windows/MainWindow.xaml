<Window x:Class="RemoteDesktop.Views.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

        xmlns:ad="https://github.com/Dirkster99/AvalonDock"
        xmlns:ct="clr-namespace:RemoteDesktop.Views.UserControls"
        xmlns:vm="clr-namespace:RemoteDesktop.ViewModels"

        Height="650"
        Width="1200"
        Title="Remote Desktop"

        WindowStartupLocation="CenterScreen"
        Style="{StaticResource WindowStyle}">

   <Window.DataContext>
      <vm:MainViewModel />
   </Window.DataContext>

   <Border Style="{StaticResource BorderWindowStyle}">
      <Grid>
         <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
         </Grid.RowDefinitions>

         <ct:WindowBar Background="{DynamicResource ContentBackground}" BorderThickness="0,0,0,1" BorderBrush="{DynamicResource BorderBrush}">
            <ct:WindowBar.LeftContent>
               <Menu Background="Transparent">
                  <MenuItem Header="Connect" Icon="&#xE703;" />

                  <MenuItem Header="Manage Servers" Icon="&#xED25;">
                     <MenuItem Header="Add server" Icon="&#xE836;" />
                     <MenuItem Header="Add group" Icon="&#xE8F4;" />
                  </MenuItem>
               </Menu>
            </ct:WindowBar.LeftContent>

            <ct:WindowBar.RightContent>
               <Button Content="&#xE713;" FontSize="12" Style="{StaticResource WindowButtonStyle}" />
            </ct:WindowBar.RightContent>
         </ct:WindowBar>

         <Border Padding="5" Grid.Row="1">
            <Grid>
               <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="250" MinWidth="250" MaxWidth="500" />
                  <ColumnDefinition Width="Auto" />
                  <ColumnDefinition />
               </Grid.ColumnDefinitions>

               <GridSplitter Grid.Column="1" Style="{StaticResource VerticalSplitterStyle}" />

               <Border Grid.Column="0" Style="{StaticResource ContentPanel}">
                  <TabControl Style="{StaticResource TabControlUniformStyle}">
                     <TabItem Header="All" />
                     <TabItem Header="Favorites" IsEnabled="False" />
                  </TabControl>
               </Border>

               <Border Grid.Column="2" Style="{StaticResource ContentPanel}">
                  <ad:DockingManager Grid.Column="2" Margin="3,8,6,8" DocumentsSource="{Binding ConnectedServers}" IsVirtualizingDocument="True">
                     <ad:DockingManager.Resources>
                        <DataTemplate DataType="{x:Type vm:ConnectedServerViewModel}" />
                     </ad:DockingManager.Resources>

                     <ad:LayoutRoot>
                        <ad:LayoutPanel Orientation="Horizontal">
                           <ad:LayoutDocumentPane />
                        </ad:LayoutPanel>
                     </ad:LayoutRoot>
                  </ad:DockingManager>
               </Border>
            </Grid>
         </Border>
      </Grid>
   </Border>
</Window>